<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard EHS - Julho 2025</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="desvios.css">
    
</head>
<body>
    <div class="dashboard-container">
        <div class="header">
            <h1>Dashboard EHS</h1>
            <p>Relatório de Desvios - Julho 2025</p>
        </div>

        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value">104</div>
                <div class="metric-label">Desvios Julho 2025</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">3.730</div>
                <div class="metric-label">Total 2024-2025</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">4</div>
                <div class="metric-label">Turmas Ativas</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">2</div>
                <div class="metric-label">Quase Acidentes</div>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-container large-chart">
                <div class="chart-title">Evolução Mensal de Desvios (2024-2025)</div>
                <canvas id="monthlyChart"></canvas>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">Desvios por Turma - Julho 2025</div>
                <canvas id="teamChart"></canvas>
            </div>
            <div class="chart-container">
                <div class="chart-title">Tipos de Desvio - Julho 2025</div>
                <canvas id="typeChart"></canvas>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">Índice de Participação por Turma</div>
                <canvas id="participationChart"></canvas>
            </div>
            <div class="chart-container">
                <div class="chart-title">Quase Acidentes por Mês</div>
                <canvas id="accidentChart"></canvas>
            </div>
        </div>

        <div class="team-details">
            <div class="team-card">
                <div class="team-header">
                    <div class="team-name">Turma A</div>
                    <div class="team-total">13</div>
                </div>
                <div class="member-list">
                    <div class="member-item"><span class="member-name">JEIZON NUNES</span><span class="member-count">7</span></div>
                    <div class="member-item"><span class="member-name">ERALDO</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">HELYEL SANTANA</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">ALEX MENDONÇA</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">IVANILSON</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">ANDRÉ NERES</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">CARLOS ALBERTO</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">HUMBERTO RODRIGUES</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">WALISSON TAVARES</span><span class="member-count">0</span></div>
                </div>
            </div>

            <div class="team-card">
                <div class="team-header">
                    <div class="team-name">Turma B</div>
                    <div class="team-total">41</div>
                </div>
                <div class="member-list">
                    <div class="member-item"><span class="member-name">WEVICLES OLIVEIRA</span><span class="member-count">7</span></div>
                    <div class="member-item"><span class="member-name">GILVANDO SANTANA</span><span class="member-count">4</span></div>
                    <div class="member-item"><span class="member-name">ALEXANDRE VINÍCIUS</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">ALGARY FEITOSA</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">ANTÔNIO DIZIO</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">CLEBISSON DOS SANTOS</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">ERIVALDO BATISTA</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">EVERTON MENDES</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">JOÃO PEDRO</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">JOELISSON DOS SANTOS</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">JOSÉ ALISSON</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">ROBSON SANTOS</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">MAIKO DOUGLAS</span><span class="member-count">0</span></div>
                </div>
            </div>

            <div class="team-card">
                <div class="team-header">
                    <div class="team-name">Turma C</div>
                    <div class="team-total">29</div>
                </div>
                <div class="member-list">
                    <div class="member-item"><span class="member-name">DEYVISSON WALLACE</span><span class="member-count">10</span></div>
                    <div class="member-item"><span class="member-name">CLEISSON CARDOSO</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">ESDRAS PHILLIP</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">MARCUS VINÍCIUS</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">RAFAEL SANTOS</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">WELBER GUILHERME</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">HUDSON DAVID</span><span class="member-count">2</span></div>
                    <div class="member-item"><span class="member-name">VINÍCIUS DANTAS</span><span class="member-count">2</span></div>
                    <div class="member-item"><span class="member-name">ALEXANDRE FRANCISCO</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">ANTÔNIO MARCOS</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">MATHEUS SANTOS</span><span class="member-count">0</span></div>
                </div>
            </div>

            <div class="team-card">
                <div class="team-header">
                    <div class="team-name">Turma ADM</div>
                    <div class="team-total">21</div>
                </div>
                <div class="member-list">
                    <div class="member-item"><span class="member-name">EDENILDES SANTOS</span><span class="member-count">5</span></div>
                    <div class="member-item"><span class="member-name">GABRIEL NOGUEIRA</span><span class="member-count">5</span></div>
                    <div class="member-item"><span class="member-name">MARCELO SANTANA</span><span class="member-count">5</span></div>
                    <div class="member-item"><span class="member-name">MANOEL MESSIAS</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">MICHAEL ALYSSON</span><span class="member-count">3</span></div>
                    <div class="member-item"><span class="member-name">ANTÔNIO MARCOS</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">EDIDELSON SANTOS</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">FRANCISCO CÍCERO</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">GABRIEL SANTANA</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">JOSÉ GABRIEL</span><span class="member-count">0</span></div>
                    <div class="member-item"><span class="member-name">MARCELO GOMES</span><span class="member-count">0</span></div>
                </div>
            </div>
        </div>

        <div class="footer-stats">
            <div class="footer-title">Total de Desvios (2024-2025)</div>
            <div class="total-value">3.730</div>
        </div>
    </div>
    <div class="footer">
            <p>&copy; 2025 Sistema EHS Dashboard - Todos os direitos reservados</p>
            <p>Última atualização: Julho 2025</p>
            <p>Criado por Gilvando Santana</p>
    </div>
    
    <script>
        // Configuração global do Chart.js
        Chart.defaults.color = '#ffffff';
        Chart.defaults.borderColor = 'rgba(255, 255, 255, 0.1)';
        Chart.defaults.backgroundColor = 'rgba(255, 255, 255, 0.05)';

        // Gráfico de evolução mensal
        const monthlyCtx = document.getElementById('monthlyChart').getContext('2d');
        new Chart(monthlyCtx, {
            type: 'line',
            data: {
                labels: ['Mar 2024', 'Abr 2024', 'Mai 2024', 'Jun 2024', 'JulMar 2024', 'Ago 2024', 'Set 2024', 'Out 2024', 'Nov 2024', 'Dez 2024', 'Jan 2025', 'Fev 2025', 'Mar 2025', 'Abr 2025', 'Mai 2025', 'Jun 2025', 'Jul 2025'],
                datasets: [{
                    label: 'Desvios por Mês',
                    data: [273, 278, 231, 200, 279, 332, 361, 306, 201, 266, 191, 115, 146, 194, 153, 100, 104],
                    borderColor: '#00d4ff',
                    backgroundColor: 'rgba(0, 212, 255, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#00d4ff',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 2,
                    pointRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#ffffff',
                            font: { size: 14 }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#ffffff' }
                    },
                    x: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#ffffff' }
                    }
                }
            }
        });

        // Gráfico de desvios por turma
        const teamCtx = document.getElementById('teamChart').getContext('2d');
        new Chart(teamCtx, {
            type: 'doughnut',
            data: {
                labels: ['Turma B', 'Turma C', 'Turma ADM', 'Turma A'],
                datasets: [{
                    data: [41, 29, 21, 13],
                    backgroundColor: ['#ff6b6b', '#45b7d1', '#4ecdc4', '#00d4ff'],
                    borderWidth: 3,
                    borderColor: '#1a1a2e'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#ffffff',
                            padding: 20,
                            font: { size: 13 }
                        }
                    }
                }
            }
        });

        // Gráfico de tipos de desvio
        const typeCtx = document.getElementById('typeChart').getContext('2d');
        new Chart(typeCtx, {
            type: 'bar',
            data: {
                labels: ['Condição Insegura', 'Condição Insegura - Ver e Agir', 'Comportamento Inseguro', 'Comportamento Inseguro - Ver e Agir', 'Quase Acidente'],
                datasets: [{
                    label: 'Quantidade',
                    data: [71, 30, 2, 1, 0],
                    backgroundColor: ['#ff6b6b', '#00d4ff', '#45b7d1', '#4ecdc4', '#96ceb4'],
                    borderWidth: 2,
                    borderColor: '#1a1a2e'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#ffffff' }
                    },
                    x: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { 
                            color: '#ffffff',
                            maxRotation: 45,
                            minRotation: 0,
                            font: { size: 10 }
                        }
                    }
                }
            }
        });

        // Gráfico de participação
        const participationCtx = document.getElementById('participationChart').getContext('2d');
        new Chart(participationCtx, {
            type: 'bar',
            data: {
                labels: ['Turma B', 'Turma C', 'Turma A', 'Turma ADM'],
                datasets: [{
                    label: 'Participação (%)',
                    data: [84.65, 72.80, 41.67, 16.70],
                    backgroundColor: ['#ff6b6b', '#45b7d1', '#00d4ff', '#4ecdc4']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { 
                            color: '#ffffff',
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    },
                    y: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#ffffff' }
                    }
                }
            }
        });

        // Gráfico de quase acidentes
        const accidentCtx = document.getElementById('accidentChart').getContext('2d');
        new Chart(accidentCtx, {
            type: 'line',
            data: {
                labels: ['Mar 2024', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez', 'Jan 2025', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul'],
                datasets: [{
                    label: 'Quase Acidentes',
                    data: [0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    borderColor: '#ff6b6b',
                    backgroundColor: 'rgba(255, 107, 107, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#ff6b6b',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 2,
                    pointRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#ffffff',
                            font: { size: 14 }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 2,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { 
                            color: '#ffffff',
                            stepSize: 1
                        }
                    },
                    x: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#ffffff' }
                    }
                }
            }
        });
    </script>
</body>
</html>